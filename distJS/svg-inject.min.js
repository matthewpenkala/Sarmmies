!function(f,c){var t,o,l="createElement",g="getElementsByTagName",b="length",E="style",u="title",h="undefined",k="setAttribute",w="getAttribute",x=null,v="__svgInject",A="--inject-",y=new RegExp(A+"\\d+","g"),C="LOAD_FAIL",r="SVG_NOT_SUPPORTED",S="SVG_INVALID",s=["src","alt","onload","onerror"],I=c[l]("a"),L=typeof SVGRect!=h,d={useCache:!0,copyAttributes:!0,makeIdsUnique:!0},j={clipPath:["clip-path"],"color-profile":x,cursor:x,filter:x,linearGradient:["fill","stroke"],marker:["marker","marker-end","marker-mid","marker-start"],mask:x,pattern:["fill","stroke"],radialGradient:["fill","stroke"]},i=1,p=2,G=1;function N(e){return(t=t||new XMLSerializer).serializeToString(e)}function O(e,t){var r,n,o,i=A+G++,a=/url\("?#([a-zA-Z][\w:.-]*)"?\)/g,f=e.querySelectorAll("[id]"),u=t?[]:x,c={},l=[],s=!1;if(f[b]){for(y=0;y<f[b];y++)(n=f[y].localName)in j&&(c[n]=1);for(n in c)(j[n]||[n]).forEach(function(e){l.indexOf(e)<0&&l.push(e)});l[b]&&l.push(E);for(var d,p,m,h=e[g]("*"),v=e,y=-1;v!=x;){if(v.localName==E)(m=(p=v.textContent)&&p.replace(a,function(e,t){return u&&(u[t]=1),"url(#"+t+i+")"}))!==p&&(v.textContent=m);else if(v.hasAttributes()){for(o=0;o<l[b];o++)d=l[o],(m=(p=v[w](d))&&p.replace(a,function(e,t){return u&&(u[t]=1),"url(#"+t+i+")"}))!==p&&v[k](d,m);["xlink:href","href"].forEach(function(e){var t=v[w](e);/^\s*#/.test(t)&&(t=t.trim(),v[k](e,t+i),u&&(u[t.substring(1)]=1))})}v=h[++y]}for(y=0;y<f[b];y++)r=f[y],u&&!u[r.id]||(r.id+=i,s=!0)}return s}function T(f,e,t,r){var n;e?(e[k]("data-inject-url",t),(n=f.parentNode)&&(r.copyAttributes&&function(e){for(var t,r=f.attributes,n=0;n<r[b];n++){var o,i,a=(i=r[n]).name;-1==s.indexOf(a)&&(t=i.value,a==u?((i=e.firstElementChild)&&i.localName.toLowerCase()==u?o=i:(o=c[l+"NS"]("http://www.w3.org/2000/svg",u),e.insertBefore(o,i)),o.textContent=t):e[k](a,t))}}(e),e=(t=r.beforeInject)&&t(f,e)||e,n.replaceChild(e,f),f[v]=i,_(f),(n=r.afterInject)&&n(f,e))):D(f,r)}function P(){for(var e={},t=arguments,r=0;r<t[b];r++){var n,o=t[r];for(n in o)o.hasOwnProperty(n)&&(e[n]=o[n])}return e}function V(e,t){if(t){var r;try{n=e,r=(o=o||new DOMParser).parseFromString(n,"text/xml")}catch(e){return x}return r[g]("parsererror")[b]?x:r.documentElement}var n,t=c.createElement("div");return t.innerHTML=e,t.firstElementChild}function _(e){e.removeAttribute("onload")}function n(e){console.error("SVGInject: "+e)}function a(e,t,r){e[v]=p,r.onFail?r.onFail(e,t):n(t)}function D(e,t){_(e),a(e,S,t)}function F(e,t){_(e),a(e,r,t)}function M(e,t){a(e,C,t)}function q(e){e.onload=x,e.onerror=x}function R(){n("no img element")}var e=function e(t,r){var n,o,i=P(d,r),m={};function a(a,f){f=P(i,f);function e(t){function e(){var e=f.onAllFinish;e&&e(),t&&t()}if(a&&typeof a[b]!=h){var r=0,n=a[b];if(0==n)e();else{function o(){++r==n&&e()}for(var i=0;i<n;i++)u(a[i],f,o)}}else u(a,f,e)}return typeof Promise==h?e():new Promise(e)}function u(i,a,e){if(i){var t=i[v];if(t)Array.isArray(t)?t.push(e):e();else{if(q(i),!L)return F(i,a),e(),0;t=a.beforeLoad,t=t&&t(i)||i[w]("src");if(!t)return""===t&&M(i,a),e(),0;var r=[];i[v]=r;function f(){e(),r.forEach(function(e){e()})}function u(t){l&&(m[c].forEach(function(e){e(t)}),m[c]=t)}var c=(t=t,I.href=t,I.href),l=a.useCache,s=a.makeIdsUnique;if(l){t=function(e){var t,r,n,o;e===C?M(i,a):e===S?D(i,a):(r=e[0],n=e[1],o=e[2],s&&(r===x?(r=O(t=V(n,!1),!1),e[0]=r,e[2]=r&&N(t)):r&&(n=o.replace(y,A+G++))),t=t||V(n,!1),T(i,t,c,a)),f()};if(typeof(n=m[c])!=h)return n.isCallbackQueue?n.push(t):t(n),0;(n=[]).isCallbackQueue=!0,m[c]=n}o=function(e,t){var r,n,o=e instanceof Document?e.documentElement:V(t,!0),e=a.afterLoad;!e||(n=e(o,t)||o)&&(t=(r="string"==typeof n)?n:N(o),o=r?V(n,!0):n),o instanceof SVGElement?(r=x,s&&(r=O(o,!1)),l&&(n=r&&N(o),u([r,t,n])),T(i,o,c,a)):(D(i,a),u(S)),f()},d=function(){M(i,a),u(C),f()},(n=c)&&((p=new XMLHttpRequest).onreadystatechange=function(){var e;4==p.readyState&&(200==(e=p.status)?o(p.responseXML,p.responseText.trim()):(400<=e||0==e)&&d())},p.open("GET",n,!0),p.send())}}else R();var n,o,d,p}return L&&(n='img[onload^="'+t+'("]{visibility:hidden;}',(o=c[g]("head")[0])&&((r=c[l](E)).type="text/css",r.appendChild(c.createTextNode(n)),o.appendChild(r))),a.setOptions=function(e){i=P(i,e)},a.create=e,a.err=function(e,t){e?e[v]!=p&&(q(e),L?(_(e),M(e,i)):F(e,i),t&&(_(e),e.src=t)):R()},f[t]=a}("SVGInject");"object"==typeof module&&"object"==typeof module.exports&&(module.exports=e)}(window,document);
